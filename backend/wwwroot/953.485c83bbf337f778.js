"use strict";(self.webpackChunkcrosswords=self.webpackChunkcrosswords||[]).push([[953],{9953:(L,l,i)=>{i.r(l),i.d(l,{LoginModule:()=>y});var m=i(6895),o=i(433),n=i(4650),p=i(263),h=i(4457),d=i(8176),c=i(5635),g=i(6616),f=i(7044),v=i(1664);const C=[{path:"",component:(()=>{class r{constructor(t,s,e,a){this.formBuilder=t,this.authService=s,this.notify=e,this.router=a,this.loginForm=this.formBuilder.group({login:["",[o.kI.required,o.kI.minLength(3),o.kI.maxLength(10)]],password:["",[o.kI.required,o.kI.minLength(6),o.kI.maxLength(10)]]})}get isInvalid(){return this.loginForm.invalid}onSignin(){const t=this.loginForm.value.login;this.authService.signin(t,this.loginForm.value.password).subscribe(e=>{this.notify.success("\u0423\u0441\u043f\u0435\u0445",`${this.authService.currentUser.isAdmin?"\u0410\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u043e\u0440":"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c"} ${t} \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u043e\u0432\u0430\u043d`),this.router.navigate([e.isAdmin?"/admin-crosswords":"/user-crosswords"])},e=>this.notify.error("\u041e\u0448\u0438\u0431\u043a\u0430",e.error.message))}onRegister(){const t=this.loginForm.value.login;this.authService.register(t,this.loginForm.value.password).subscribe(()=>{this.notify.success("\u0423\u0441\u043f\u0435\u0445",`\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c ${t} \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d`),this.router.navigate(["/user-crosswords"])},e=>this.notify.error("\u041e\u0448\u0438\u0431\u043a\u0430",e.error.message))}}return r.\u0275fac=function(t){return new(t||r)(n.Y36(o.qu),n.Y36(p.e),n.Y36(h.zb),n.Y36(d.F0))},r.\u0275cmp=n.Xpm({type:r,selectors:[["app-login"]],decls:9,vars:3,consts:[[3,"formGroup"],["nz-input","","placeholder","\u041b\u043e\u0433\u0438\u043d","formControlName","login"],["nz-input","","placeholder","\u041f\u0430\u0440\u043e\u043b\u044c","formControlName","password","type","password"],["nz-button","","nzType","primary",3,"disabled","click"],["nz-button","","nzType","default",3,"disabled","click"]],template:function(t,s){1&t&&(n.TgZ(0,"main",0)(1,"h1"),n._uU(2,"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044f"),n.qZA(),n._UZ(3,"input",1)(4,"input",2),n.TgZ(5,"button",3),n.NdJ("click",function(){return s.onSignin()}),n._uU(6," \u0412\u043e\u0439\u0442\u0438 "),n.qZA(),n.TgZ(7,"button",4),n.NdJ("click",function(){return s.onRegister()}),n._uU(8," \u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f "),n.qZA()()),2&t&&(n.Q6J("formGroup",s.loginForm),n.xp6(5),n.Q6J("disabled",s.isInvalid),n.xp6(2),n.Q6J("disabled",s.isInvalid))},dependencies:[o.Fj,o.JJ,o.JL,o.sg,o.u,c.Zp,g.ix,f.w,v.dQ],styles:["[_nghost-%COMP%]{width:100%;height:100%;display:flex;align-items:center;justify-content:center}main[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px;padding:12px 24px 24px;border-radius:6px;border:1px solid var(--cw-primary)}main[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:250px}h1[_ngcontent-%COMP%]{margin:0;text-align:center}"]}),r})()}];let y=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=n.oAB({type:r}),r.\u0275inj=n.cJS({imports:[m.ez,d.Bz.forChild(C),o.UX,o.u5,c.o7,g.sL]}),r})()}}]);